/*
Created: 2019-11-22
Modified: 2019-11-29
Model: Oracle 11g Release 1
Database: Oracle 11g Release 1
*/


-- Create tables section -------------------------------------------------

-- Table PARCEL

CREATE TABLE "PARCEL"(
  "REGINO" Number NOT NULL,
  "TO_ADDR" Varchar2(100 ) NOT NULL,
  "TO_TEL" Varchar2(30 ) NOT NULL,
  "FROM_ADDR" Varchar2(100 ) NOT NULL,
  "FROM_TEL" Varchar2(30 ) NOT NULL,
  "CURRENT_LOC" Char(20 ) NOT NULL,
  "DELIVERY_STATE" Char(20 ) NOT NULL,
  "PRODUCT_DATA" Varchar2(100 ) NOT NULL,
  "RECEPTRION_TIME" Date NOT NULL,
  "FK_PTYPENO" Number NOT NULL,
  "FK_DELNO" Number NOT NULL,
  "FK_EMPNO" Number NOT NULL,
  "FK_CUSTID" Number NOT NULL
)
/

-- Add keys for table PARCEL

ALTER TABLE "PARCEL" ADD CONSTRAINT "PK_PARCEL" PRIMARY KEY ("REGINO")
/

-- Table MAIL

CREATE TABLE "MAIL"(
  "REGINO" Number NOT NULL,
  "TO_ADDR" Varchar2(100 ) NOT NULL,
  "TO_TEL" Varchar2(30 ) NOT NULL,
  "FROM_ADDR" Varchar2(100 ) NOT NULL,
  "FROM_TEL" Varchar2(30 ) NOT NULL,
  "REG_TIME" Date NOT NULL,
  "REC_STATUS" Char(20 ) NOT NULL,
  "FK_MTYPENO" Number NOT NULL,
  "FK_DELNO" Number NOT NULL,
  "FK_EMPNO" Number NOT NULL,
  "FK_CUSTID" Number NOT NULL
)
/

-- Add keys for table MAIL

ALTER TABLE "MAIL" ADD CONSTRAINT "PK_MAIL" PRIMARY KEY ("REGINO")
/

-- Table CUSTOMER

CREATE TABLE "CUSTOMER"(
  "CUSTID" Number NOT NULL,
  "NAME" Varchar2(30 ) NOT NULL,
  "FK_ADDR" Varchar2(100 ) NOT NULL,
  "TEL" Varchar2(30 ) NOT NULL,
  "PASSWORD" Char(20 ) NOT NULL
)
/

-- Add keys for table CUSTOMER

ALTER TABLE "CUSTOMER" ADD CONSTRAINT "PK_CUSTOMER" PRIMARY KEY ("CUSTID")
/

-- Table POST_CODE

CREATE TABLE "POST_CODE"(
  "ADDR" Varchar2(100 ) NOT NULL,
  "POST_CODE" Integer NOT NULL
)
/

-- Add keys for table POST_CODE

ALTER TABLE "POST_CODE" ADD CONSTRAINT "PK_POST_CODE" PRIMARY KEY ("ADDR")
/

-- Table DELIVERY_MAN

CREATE TABLE "DELIVERY_MAN"(
  "DELNO" Number NOT NULL,
  "DELNAME" Varchar2(30 ) NOT NULL,
  "RESIDENT_NO" Char(14 ) NOT NULL,
  "ADDR" Varchar2(100 ) NOT NULL,
  "TEL" Varchar2(30 ) NOT NULL
)
/

-- Add keys for table DELIVERY_MAN

ALTER TABLE "DELIVERY_MAN" ADD CONSTRAINT "PK_DELIVERY_MAN" PRIMARY KEY ("DELNO")
/

-- Table MAIL_TYPE

CREATE TABLE "MAIL_TYPE"(
  "MTYPENO" Number NOT NULL,
  "MAILTYPE" Char(20 ) NOT NULL
)
/

-- Add keys for table MAIL_TYPE

ALTER TABLE "MAIL_TYPE" ADD CONSTRAINT "PK_MAIL_TYPE" PRIMARY KEY ("MTYPENO")
/

-- Table PARCEL_TYPE

CREATE TABLE "PARCEL_TYPE"(
  "PTYPENO" Number NOT NULL,
  "PARCELTYPE" Char(20 ) NOT NULL
)
/

-- Add keys for table PARCEL_TYPE

ALTER TABLE "PARCEL_TYPE" ADD CONSTRAINT "PK_PARCEL_TYPE" PRIMARY KEY ("PTYPENO")
/

-- Table ACCOUNT_DATA

CREATE TABLE "ACCOUNT_DATA"(
  "ACCNO" Char(20 ) NOT NULL,
  "PASSWD" Char(20 ) NOT NULL,
  "BALANCE" Integer NOT NULL,
  "OPEN_DATE" Date NOT NULL,
  "FK_CUSTID" Number NOT NULL,
  "FK_DEPONO" Number NOT NULL,
  "FK_EMPNO" Number NOT NULL
)
/

-- Add keys for table ACCOUNT_DATA

ALTER TABLE "ACCOUNT_DATA" ADD CONSTRAINT "PK_ACCOUNT_DATA" PRIMARY KEY ("ACCNO")
/

-- Table DEPOSIT_PRODUCT

CREATE TABLE "DEPOSIT_PRODUCT"(
  "DEPONO" Number NOT NULL,
  "DEPO_RATE" Float NOT NULL,
  "DEPONAME" Varchar2(30 ) NOT NULL,
  "PERIOD" Number NOT NULL,
  "FK_DEPNO" Number NOT NULL
)
/

-- Add keys for table DEPOSIT_PRODUCT

ALTER TABLE "DEPOSIT_PRODUCT" ADD CONSTRAINT "PK_DEPOSIT_PRODUCT" PRIMARY KEY ("DEPONO")
/

-- Table DEPOSIT_TYPE

CREATE TABLE "DEPOSIT_TYPE"(
  "DEPNO" Number NOT NULL,
  "DEPOTYPE" Char(20 ) NOT NULL
)
/

-- Add keys for table DEPOSIT_TYPE

ALTER TABLE "DEPOSIT_TYPE" ADD CONSTRAINT "PK_DEPOSIT_TYPE" PRIMARY KEY ("DEPNO")
/

-- Table EMPLOYEE

CREATE TABLE "EMPLOYEE"(
  "EMPNO" Number NOT NULL,
  "NAME" Varchar2(30 ) NOT NULL,
  "ADDR" Varchar2(100 ) NOT NULL,
  "TEL" Varchar2(30 ) NOT NULL,
  "RESIDENT_NO" Char(13 ) NOT NULL,
  "FK_DEPTNO" Number NOT NULL
)
/

-- Add keys for table EMPLOYEE

ALTER TABLE "EMPLOYEE" ADD CONSTRAINT "PK_EMPLOYEE" PRIMARY KEY ("EMPNO")
/

-- Table DEPARTMENT

CREATE TABLE "DEPARTMENT"(
  "DEPTNO" Number NOT NULL,
  "DEPTNAME" Varchar2(30 ) NOT NULL
)
/

-- Add keys for table DEPARTMENT

ALTER TABLE "DEPARTMENT" ADD CONSTRAINT "PK_DEPARTMENT" PRIMARY KEY ("DEPTNO")
/


-- Create foreign keys (relationships) section ------------------------------------------------- 

ALTER TABLE "PARCEL" ADD CONSTRAINT "CLASSIFICATION" FOREIGN KEY ("FK_PTYPENO") REFERENCES "PARCEL_TYPE" ("PTYPENO")
/



ALTER TABLE "MAIL" ADD CONSTRAINT "CLASSIFICATION" FOREIGN KEY ("FK_MTYPENO") REFERENCES "MAIL_TYPE" ("MTYPENO")
/



ALTER TABLE "PARCEL" ADD CONSTRAINT "DELIVERY" FOREIGN KEY ("FK_DELNO") REFERENCES "DELIVERY_MAN" ("DELNO")
/



ALTER TABLE "MAIL" ADD CONSTRAINT "SEND" FOREIGN KEY ("FK_CUSTID") REFERENCES "CUSTOMER" ("CUSTID")
/



ALTER TABLE "MAIL" ADD CONSTRAINT "DELIVERY" FOREIGN KEY ("FK_DELNO") REFERENCES "DELIVERY_MAN" ("DELNO")
/



ALTER TABLE "MAIL" ADD CONSTRAINT "RECEPT" FOREIGN KEY ("FK_EMPNO") REFERENCES "EMPLOYEE" ("EMPNO")
/



ALTER TABLE "PARCEL" ADD CONSTRAINT "SEND" FOREIGN KEY ("FK_CUSTID") REFERENCES "CUSTOMER" ("CUSTID")
/



ALTER TABLE "PARCEL" ADD CONSTRAINT "RECEPT" FOREIGN KEY ("FK_EMPNO") REFERENCES "EMPLOYEE" ("EMPNO")
/



ALTER TABLE "ACCOUNT_DATA" ADD CONSTRAINT "OWN" FOREIGN KEY ("FK_CUSTID") REFERENCES "CUSTOMER" ("CUSTID")
/



ALTER TABLE "ACCOUNT_DATA" ADD CONSTRAINT "OPEN" FOREIGN KEY ("FK_EMPNO") REFERENCES "EMPLOYEE" ("EMPNO")
/



ALTER TABLE "ACCOUNT_DATA" ADD CONSTRAINT "PRODUCT" FOREIGN KEY ("FK_DEPONO") REFERENCES "DEPOSIT_PRODUCT" ("DEPONO")
/



ALTER TABLE "DEPOSIT_PRODUCT" ADD CONSTRAINT "CLASSIFICATION" FOREIGN KEY ("FK_DEPNO") REFERENCES "DEPOSIT_TYPE" ("DEPNO")
/



ALTER TABLE "EMPLOYEE" ADD CONSTRAINT "BELONGS" FOREIGN KEY ("FK_DEPTNO") REFERENCES "DEPARTMENT" ("DEPTNO")
/



ALTER TABLE "CUSTOMER" ADD CONSTRAINT "POSTCODE" FOREIGN KEY ("FK_ADDR") REFERENCES "POST_CODE" ("ADDR")
/




